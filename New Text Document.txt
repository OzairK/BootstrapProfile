string manipulation and pattern matching